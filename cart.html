<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cart</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
  <h2>Your Cart</h2>
  <table class="table">
    <thead><tr><th>Item</th><th>Qty</th><th>Price</th><th>Total</th><th></th></tr></thead>
    <tbody id="cart-body"></tbody>
  </table>
  <h4 id="cart-total"></h4>
  <button class="btn btn-success">Proceed to Checkout</button>
  <!-- <script src="js/app.js"></script> -->
  <script>
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    // console.log("Cart contents:", cart);
    const body = document.getElementById("cart-body");

    function renderCart() {
      body.innerHTML = "";
      let total = 0;
      cart.forEach((p,i)=>{
        let row = document.createElement("tr");
        total += p.price * p.qty;
        row.innerHTML = `
          <td>${p.title}</td>
          <td><input type='number' value='${p.qty}' min='1' onchange='updateQty(${i}, this.value)'></td>
          <td>₹${p.price}</td>
          <td>₹${p.price * p.qty}</td>
          <td><button class='btn btn-danger btn-sm' onclick='removeItem(${i})'>X</button></td>`;
        body.appendChild(row);
      });
     document.getElementById("cart-total").textContent = "Total: ₹" + total;

    }

    function updateQty(index, val) {
      cart[index].qty = parseInt(val);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    }

    function removeItem(index) {
      cart.splice(index,1);
      localStorage.setItem("cart", JSON.stringify(cart));
      renderCart();
    }

    renderCart();
    

  </script>
</body>
</html>
